#!/bin/bash

echo "Generating client csr"
openssl req -new -noenc -verbose \
-newkey rsa:1024 \
-keyout certs/client.key -out certs/client.csr \
-subj "/C=FR/ST=ARA/L=Grenoble/O=Grenoble INP/OU=client/CN=localhost/emailAddress=a.b.c.d.e.f.g.h.i.j.k.l.m.n.o."

echo "Signing client cert"
openssl x509 -req \
-days 10 \
-CA certs/ca.crt -CAkey certs/ca.key -CAcreateserial -sha256 \
-in certs/client.csr \
-out certs/client.crt
